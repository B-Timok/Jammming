{"ast":null,"code":"import React,{useState,useCallback}from'react';import\"./App.css\";import Playlist from\"../Playlist/Playlist\";import SearchBar from\"../SearchBar/SearchBar\";import SearchResults from\"../SearchResults/SearchResults\";import Spotify from\"../../utils/Spotify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[searchResults,setSearchResults]=useState([]);const[playlistName,setPlaylistName]=useState(\"New Playlist\");const[playlistTracks,setPlaylistTracks]=useState([]);const search=useCallback(term=>{Spotify.search(term).then(setSearchResults);},[]);const addTrack=useCallback(track=>{if(playlistTracks.some(savedTrack=>savedTrack.id===track.id)){return;}setPlaylistTracks(prevTrack=>[...prevTrack,track]);},[playlistTracks]);const removeTrack=useCallback(track=>{setPlaylistTracks(prevTrack=>{return prevTrack.filter(currentTrack=>currentTrack.id!==track.id);});},[]);const updatePlaylistName=useCallback(name=>{setPlaylistName(name);},[]);const savePlaylist=useCallback(()=>{const trackURIs=playlistTracks.map(track=>track.uri);Spotify.savePlaylist(playlistName,trackURIs).then(()=>{setPlaylistName(\"New Playlist\");setPlaylistTracks([]);});},[playlistName,playlistTracks]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Ja\",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"mmm\"}),\"ing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:search}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-playlist\",children:[/*#__PURE__*/_jsx(SearchResults,{searchResults:searchResults,onAdd:addTrack}),/*#__PURE__*/_jsx(Playlist,{playlistName:playlistName,playlistTracks:playlistTracks,onRemove:removeTrack,onNameChange:updatePlaylistName,onSave:savePlaylist})]})]})]});};export default App;","map":{"version":3,"names":["React","useState","useCallback","Playlist","SearchBar","SearchResults","Spotify","jsx","_jsx","jsxs","_jsxs","App","searchResults","setSearchResults","playlistName","setPlaylistName","playlistTracks","setPlaylistTracks","search","term","then","addTrack","track","some","savedTrack","id","prevTrack","removeTrack","filter","currentTrack","updatePlaylistName","name","savePlaylist","trackURIs","map","uri","children","className","onSearch","onAdd","onRemove","onNameChange","onSave"],"sources":["/workspaces/Jammming/src/components/App/App.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport \"./App.css\";\n\nimport Playlist from \"../Playlist/Playlist\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport SearchResults from \"../SearchResults/SearchResults\";\nimport Spotify from \"../../utils/Spotify\";\n\nconst App = () => {\n    const [searchResults, setSearchResults] = useState([]);\n    const [playlistName, setPlaylistName] = useState(\"New Playlist\");\n    const [playlistTracks, setPlaylistTracks] = useState([]);\n\n    const search = useCallback((term) => {\n        Spotify.search(term).then(setSearchResults);\n    }, []);\n\n    const addTrack = useCallback((track) => {\n        if (playlistTracks.some((savedTrack) => savedTrack.id === track.id)) {\n            return;\n        }\n        setPlaylistTracks((prevTrack) => [...prevTrack, track]);\n        }, [playlistTracks]\n    );\n\n    const removeTrack = useCallback((track) => {\n        setPlaylistTracks((prevTrack) => {\n            return prevTrack.filter((currentTrack) => currentTrack.id !== track.id);\n        })\n    }, []);\n\n    const updatePlaylistName = useCallback((name) => {\n        setPlaylistName(name);\n    }, []);\n\n    const savePlaylist = useCallback(() => {\n        const trackURIs = playlistTracks.map((track) => track.uri);\n        Spotify.savePlaylist(playlistName, trackURIs).then(() => {\n            setPlaylistName(\"New Playlist\");\n            setPlaylistTracks([]);\n        });\n    }, [playlistName, playlistTracks]);\n\n    return (\n        <div>\n            <h1>\n                Ja<span className=\"highlight\">mmm</span>ing\n            </h1>\n            <div className=\"App\">\n                <SearchBar onSearch={search} />\n                <div className=\"App-playlist\">\n                    <SearchResults searchResults={searchResults} onAdd={addTrack} />\n                    <Playlist\n                        playlistName={playlistName}\n                        playlistTracks={playlistTracks}\n                        onRemove={removeTrack}\n                        onNameChange={updatePlaylistName}\n                        onSave={savePlaylist}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}